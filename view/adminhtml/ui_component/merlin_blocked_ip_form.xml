<?xml version="1.0" encoding="UTF-8"?>
<form xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
      xsi:noNamespaceSchemaLocation="urn:magento:module:Magento_Ui:etc/ui_configuration.xsd">

  <argument name="data" xsi:type="array">
    <item name="js_config" xsi:type="array">
      <item name="provider" xsi:type="string">merlin_blocked_ip_form.merlin_blocked_ip_form_data_source</item>
    </item>
    <item name="label" xsi:type="string" translate="true">Blocked IP</item>
  </argument>

  <dataSource name="merlin_blocked_ip_form_data_source">
    <argument name="dataProvider" xsi:type="configurableObject">
      <argument name="class" xsi:type="string">Magento\Framework\View\Element\UiComponent\DataProvider\DataProvider</argument>
      <argument name="name" xsi:type="string">merlin_blocked_ip_form_data_source</argument>
      <argument name="primaryFieldName" xsi:type="string">block_id</argument>
      <argument name="requestFieldName" xsi:type="string">block_id</argument>
      <argument name="data" xsi:type="array">
        <item name="config" xsi:type="array">
          <item name="update_url" xsi:type="url" path="mui/index/render"/>
        </item>
      </argument>
    </argument>
    <settings>
      <submitUrl path="merlin_id/block/save"/>
    </settings>
  </dataSource>

  <buttons>
    <button name="back"><settings><title translate="true">Back</title><class>back</class><url path="*/*/"/></settings></button>
    <button name="save"><settings><title translate="true">Save</title><class>action-primary</class><formSubmit>true</formSubmit></settings></button>
    <button name="delete">
      <settings>
        <title translate="true">Delete</title><class>action-secondary</class>
        <url path="merlin_id/block/delete"><param name="block_id">%block_id</param></url>
        <confirm><message translate="true">Delete this block?</message></confirm>
      </settings>
    </button>
  </buttons>

  <fieldset name="general">
    <field name="block_id" formElement="hidden"><settings><dataType>number</dataType><visible>false</visible></settings></field>
    <field name="ip" formElement="input"><settings><dataType>text</dataType><label translate="true">IP</label><validation><rule name="required-entry" xsi:type="boolean">true</rule></validation></settings></field>
    <field name="reason" formElement="input"><settings><dataType>text</dataType><label translate="true">Reason</label></settings></field>
    <field name="expires_at" formElement="date"><settings><dataType>date</dataType><label translate="true">Expires At (UTC)</label></settings></field>
  </fieldset>
</form>
